(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab63b146"],{"031a":function(t,e,i){"use strict";var n=i("b150"),a=i.n(n);a.a},1281:function(t,e,i){},"17af":function(t,e,i){"use strict";var n=i("f67c"),a=i.n(n);a.a},1954:function(t,e,i){"use strict";var n=i("5f3f"),a=i.n(n);a.a},2532:function(t,e,i){"use strict";var n=i("23e7"),a=i("5a34"),r=i("1d80"),s=i("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(r(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),r=i("b622"),s=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},5279:function(t,e,i){"use strict";var n=i("1281"),a=i.n(n);a.a},"597e":function(t,e,i){"use strict";var n=i("a0f0"),a=i.n(n);a.a},"5a34":function(t,e,i){var n=i("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5f3f":function(t,e,i){},"6d25":function(t,e,i){i("4160"),i("159b");var n=function(t,e){t.forEach((function(t){document.getElementById("".concat(t,"Button")).classList.remove("active")})),document.getElementById("".concat(e,"Button")).classList.add("active")},a=function(t){return t<480?"+ 10vw":t<1100?"":"- 17vw"};t.exports={updateButtons:n,reformX:a}},8076:function(t,e,i){},"8abb":function(t,e,i){},"91ff":function(t,e,i){"use strict";var n=i("cfff"),a=i.n(n);a.a},9637:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recipes"},[i("h1",{staticClass:"header "},[t._v("The Recipes Book")]),i("br"),i("transition",{attrs:{name:"fade"}},[t.modalShow?i("form-modal",{on:{closeModal:function(e){t.modalShow=!1},submitted:function(e){t.modalShow=!1,t.getRecipes()}}}):t._e()],1),i("div",{staticClass:"container"},[i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table recipes"},[t._m(0),i("tbody",t._l(t.recipes,(function(t){return i("table-row",{key:t.index,attrs:{prop_index:t.number,prop_recipeName:t.name,prop_addedBy:t.addedBy,prop_dateAdded:t.dateAdded,prop_thumb:t.thumb,prop_views:t.views,prop_link:t.link}})})),1)])])]),i("br"),i("div",[i("p",{directives:[{name:"show",rawName:"v-show",value:t.err_max,expression:"err_max"}],staticClass:"site-error"},[t._v("Too many recipes!")])]),i("div",[i("p",{directives:[{name:"show",rawName:"v-show",value:t.err_axios,expression:"err_axios"}],staticClass:"site-error"},[t._v("An error has occured while loading recipes")])]),i("button",{staticClass:"btn site-btn",attrs:{id:"add-recipe",disabled:t.addDisabled},on:{click:t.modalAnimation}},[t._v("Add Recipe")]),i("br"),i("br"),i("pre",{staticClass:"subheader"},[t._v("This information is provided as a public service for all of Tel Aviv's citizens\nwho are completely dependant on 10bis and are helpless around the kitchen")])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("#")]),i("th",[t._v("Recipe Name")]),i("th",[t._v("Added By")]),i("th",[t._v("Date Added")]),i("th",{staticStyle:{"text-align":"center"}},[t._v("Preview")]),i("th",[t._v("Views")]),i("th",[t._v("To Recipe")])])])}],r=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",{staticStyle:{"padding-left":"12px"}},[t._v(t._s(t.prop_index))]),i("td",[t._v(t._s(t.prop_recipeName))]),i("td",[t._v(t._s(t.prop_addedBy))]),i("td",[t._v(t._s(t.prop_dateAdded))]),i("td",[i("img",{staticStyle:{"border-radius":"5%","box-shadow":"0 0 2px 2px black","object-fit":"contain"},attrs:{width:"100",src:t.$route.params.proxy+t.prop_thumb}})]),i("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.prop_views))]),i("td",{staticStyle:{"text-align":"center"}},[i("button",{staticClass:"btn site-btn noanimation",attrs:{id:"linker"},on:{click:function(e){return t.$router.push(t.prop_link)}}},[t._v(">>")])])])}),s=[],o={name:"tableRecipe",props:["prop_index","prop_recipeName","prop_addedBy","prop_dateAdded","prop_thumb","prop_views","prop_link"]},c=o,d=(i("031a"),i("2877")),l=Object(d["a"])(c,r,s,!1,null,"6b6255bc",null),u=l.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"modal-mask"}},[i("div",{attrs:{id:"modal-wrapper"}},[i("div",{attrs:{id:"modal-header"}},[i("h1",[t._v("Add Recipe")]),i("span",{staticClass:"close",on:{click:function(e){return t.$emit("closeModal")}}},[t._v("Ã—")])]),i("div",{attrs:{id:"modal-body"}},[i("div",{staticClass:"box"},[i("recipes-text-input",{attrs:{label:"Recipe Name:"},on:{valChange:function(e){t.inputs[0]=e},valErr:function(e){t.errs[0]=e}}}),i("br"),i("recipes-text-input",{attrs:{label:"Contributor:"},on:{valChange:function(e){t.inputs[1]=e},valErr:function(e){t.errs[1]=e}}}),i("br"),i("recipes-text-area",{attrs:{label:"Instructions:"},on:{valChange:function(e){t.inputs[2]=e},valErr:function(e){t.errs[2]=e}}})],1),i("div",{staticClass:"box"},[i("recipes-text-ingredients",{attrs:{label:"Ingredients:"},on:{valChange:function(e){t.inputs[3]=e},valErr:function(e){t.errs[3]=e}}})],1),i("div",{staticClass:"box"},[i("recipes-image-upload",{attrs:{label:"Upload Image:"},on:{valChange:function(e){t.img=e},submittable:t.toggleSubmit,valErr:function(e){t.errs[4]=e}}})],1)]),i("div",{attrs:{id:"modal-footer"}},[i("button",{staticClass:"btn site-btn",attrs:{disabled:!t.submittable},on:{click:t.submitRecipe}},[t._v("Submit")])])])])},m=[],h=(i("caad"),i("2532"),i("bc3a")),v=i.n(h),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("label",[t._v(t._s(t.label))]),i("div",{staticClass:"col"},[t._l(t.ingredientIdx,(function(e,n){return[i("div",{staticClass:"row"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ingredients[n],expression:"ingredients[index]"}],key:n,attrs:{type:"text"},domProps:{value:t.ingredients[n]},on:{input:function(e){e.target.composing||t.$set(t.ingredients,n,e.target.value)}}})])]})),t.ingredientIdx<10?i("button",{staticClass:"btn ingbtn add",on:{click:t.addIngredient}},[t._v("+")]):t._e(),t.ingredientIdx>1?i("button",{staticClass:"btn ingbtn sub",on:{click:t.removeIngredient}},[t._v("-")]):t._e()],2)])},b=[],g=(i("4160"),i("159b"),{name:"recipesTextIngredients",data:function(){return{ingredientIdx:1,ingredients:[]}},methods:{addIngredient:function(){this.ingredientIdx<10&&this.ingredientIdx++},removeIngredient:function(){this.ingredientIdx>1&&this.ingredientIdx--}},watch:{ingredients:function(t){var e=!0;0==this.ingredients.length?e=!1:this.ingredients.forEach((function(t){if(0==t.length)e=!1;else for(var i=0;i<t.length;i++)t.charCodeAt(i)>=127&&(e=!1)})),this.$emit("valChange",this.ingredients);var i=!1;e||(i=!0),this.$emit("valErr",i)}},props:["label"]}),_=g,x=(i("1954"),Object(d["a"])(_,f,b,!1,null,"5439d5d6",null)),w=x.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("label",[t._v(t._s(t.label))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])},y=[],$={name:"recipesTextInput",data:function(){return{text:""}},watch:{text:function(t){for(var e=!0,i=0;i<t.length;i++)t.charCodeAt(i)>=127&&(e=!1);this.$emit("valChange",t);var n=!1;(t.length<=0||!e)&&(n=!0),this.$emit("valErr",n)}},props:["label"]},I=$,S=(i("17af"),Object(d["a"])(I,C,y,!1,null,"23b5adff",null)),E=S.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("label",[t._v(t._s(t.label))]),i("input",{attrs:{type:"file"},on:{change:t.uploadImg}}),i("br"),i("img",{staticClass:"preview",attrs:{src:t.imgSrc}})])},A=[],R={name:"recipesImageUpload",data:function(){return{imgSrc:this.$route.params.proxy+"/img/noImg.jpg"}},methods:{uploadImg:function(t){var e=this;this.$emit("submittable",!1);var i=new FormData;i.append("file",t.target.files[0]),this.imgSrc=this.$route.params.proxy+"/img/loading.webp",v()({method:"POST",url:this.$route.params.proxy+"/server/recipes/uploadImg",data:i,validateStatus:!1,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(t){e.imgSrc=e.$route.params.proxy+t.data.thumb,e.$emit("errImage",""),e.$emit("submittable",!0),e.$emit("valChange",t.data)})).catch((function(t){imgSrc=e.$route.params.proxy+"/img/noImg.jpg",e.$emit("errImage","There was an error uploading the image"),e.$emit("submittable",!0)}))}},props:["label"]},T=R,B=(i("91ff"),Object(d["a"])(T,k,A,!1,null,"7bc8063d",null)),O=B.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("label",[t._v(t._s(t.label))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{rows:"10"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})])},N=[],P={name:"recipesTextArea",data:function(){return{text:""}},watch:{text:function(t){for(var e=!0,i=0;i<t.length;i++)t.charCodeAt(i)>=127&&(e=!1);this.$emit("valChange",t);var n=!1;(t.length<=0||!e)&&(n=!0),this.$emit("valErr",n)}},props:["label"]},L=P,z=(i("597e"),Object(d["a"])(L,j,N,!1,null,"2d09cf2a",null)),D=z.exports,J={name:"form-modal",data:function(){return{errs:[!0,!0,!0,!0],inputs:["","","",[""]],img:{uploaded:!1,uuid:"",path:"",thumb:""},submittable:!0}},methods:{submitRecipe:function(){var t=this;if(!this.errs.includes(!0)){var e={name:this.inputs[0],addedBy:this.inputs[1],instructions:this.inputs[2],ingredients:this.inputs[3]};this.img.uploaded&&(e.uuid=this.img.uuid,e.path=this.img.path,e.thumb=this.img.thumb),console.log(e),v()({method:"POST",url:this.$route.params.proxy+"/server/recipes/postRecipe",data:e}).then((function(){t.$emit("submitted")})).catch((function(){}))}},toggleSubmit:function(t){this.submittable=t}},components:{"recipes-text-input":E,"recipes-text-ingredients":w,"recipes-image-upload":O,"recipes-text-area":D}},M=J,U=(i("5279"),Object(d["a"])(M,p,m,!1,null,"413aa648",null)),F=U.exports,G=i("6d25"),V=i.n(G),X={name:"recipes",props:["pagesList"],data:function(){return{recipes:[],modalShow:!1,addDisabled:!1,err_axios:!1,err_max:!1}},mounted:function(){window.addEventListener("resize",this.screenResize),V.a.updateButtons(this.pagesList,this.$options.name),this.getRecipes()},methods:{getRecipes:function(){var t=this;v()({method:"GET",url:"http://localhost:5000/server/recipes/getRecipes"}).then((function(e){t.err_axios=!1,t.recipes=e.data.data})).catch((function(){t.err_axios=!0}))},modalAnimation:function(){this.modalShow=!this.modalShow},screenResize:function(){}},components:{"table-row":u,"form-modal":F}},q=X,H=(i("e86e"),i("b1f3"),Object(d["a"])(q,n,a,!1,null,"c1802c68",null));e["default"]=H.exports},a0f0:function(t,e,i){},ab13:function(t,e,i){var n=i("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},b150:function(t,e,i){},b1f3:function(t,e,i){"use strict";var n=i("8abb"),a=i.n(n);a.a},caad:function(t,e,i){"use strict";var n=i("23e7"),a=i("4d64").includes,r=i("44d2"),s=i("ae40"),o=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!o},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cfff:function(t,e,i){},e86e:function(t,e,i){"use strict";var n=i("8076"),a=i.n(n);a.a},f67c:function(t,e,i){}}]);
//# sourceMappingURL=chunk-ab63b146.ee1c2df8.js.map